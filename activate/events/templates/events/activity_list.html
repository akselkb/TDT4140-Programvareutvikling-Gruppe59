{% extends 'base.html' %}
{% load static %}

{% block content %}
  <div class="container-fluid">
      <div class="list-group">
          {% for activity in activities %}
              <div class="list-group-item mb-3 d-flex flex-row">
                  <div class="">
                      <img src="{% static "images/sit_logo.png" %}" style="height: 10vw" class="mr-3 rounded image-container"/>
                  </div>
                  <div class="d-flex flex-column w-100 ">
                      <a href="{{ activity.id }}/"><h4 class="mb-1">{{ activity.title }}</h4></a>
                      <small class="text-muted mb-2">{{ activity.date_from }}</small>
                      <p class="mb-2 text-truncate">{{ activity.text|linebreaksbr }}</p>
                  </div>

                  <!--Får ikke denne referansen til å virke -->
                  <script type="text/javascript" src="59/activate/events/templates/events/button_confirmation.js"> </script>

                  <div class="d-flex flex-column">
                      <!-- <button type="button" class="btn btn-primary mt-auto" onclick="return clicked();">Meld på</button> -->
                     {% if user in activity.registered_users %}
                        <a href="{% url 'register' activity.id %}" title="Meld på" class="btn btn-primary mt-1" onclick="return clicked();">Meld deg på</a>
                    {% else %}
                        <a href="#" title="Meld Av" class="btn btn-danger mt-1" onclick="">Meld deg av</a>
                    {% endif %}
                  </div>
                  <!-- Midlertidig script for button reaction -->
                  <script>
                  function clicked() {
                      if (confirm('Bekreft at du ønsker å bli meldt på')) {
                          window.alert("Du er påmeldt!");;
                      } else {
                      return false;
                      }}
                  </script>
              </div>
          {% endfor %}
      </div>
  </div>
{% endblock content %}
